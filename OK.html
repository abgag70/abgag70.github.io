<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Point Selector with User Input</title>
<style>
  body { font-family: Arial, sans-serif; }
  #imageContainer { position: relative; }
  img { max-width: 100%; cursor: crosshair; }
  #pointsList { max-height: 300px; overflow-y: auto; }
  .point { color: red; position: absolute; }
</style>
</head>
<body>

<h2>Select Points on Your Image</h2>
<input type="file" id="imageInput" accept="image/*">
<br>
<div id="imageContainer">
  <img id="image" alt="Selectable Image" style="display:none;">
</div>
<button onclick="resetPoints()">Reset Points</button>
<h3>Points:</h3>
<ul id="pointsList"></ul>

<script>
  const imageInput = document.getElementById('imageInput');
  const image = document.getElementById('image');
  const pointsList = document.getElementById('pointsList');
  let points = [];

  imageInput.addEventListener('change', function(event) {
    const file = event.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        image.src = e.target.result;
        image.style.display = 'block';
      };
      reader.readAsDataURL(file);
    }
  });

  image.addEventListener('click', function(event) {
    const rect = this.getBoundingClientRect();
    const x = event.clientX - rect.left; // x position within the element.
    const y = event.clientY - rect.top;  // y position within the element.

    points.push({x, y});
    displayPoints();
  });

  function displayPoints() {
    pointsList.innerHTML = '';
    points.forEach((point, index) => {
      const listItem = document.createElement('li');
      listItem.textContent = `Point ${index + 1}: (${point.x.toFixed(2)}, ${point.y.toFixed(2)})`;
      pointsList.appendChild(listItem);
    });
  }

  function resetPoints() {
    points = [];
    displayPoints();
  }
</script>

</body>
</html>
